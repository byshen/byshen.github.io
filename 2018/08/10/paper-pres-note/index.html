<!DOCTYPE html><html lang="zh-tw"><head><meta charset="UTF-8"><meta name="author" content="Bingyu"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>note on &quot;PRES&quot; paper</title><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/carbon.css"><script defer="defer" src="//cdn.jsdelivr.net/jquery/2.1.4/jquery.min.js"></script><script defer="defer" src="//cdn.jsdelivr.net/jquery.pjax/1.9.5/jquery.pjax.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.css" type="text/css" media="screen"><script defer="defer" type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>var performFancybox = true;</script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/katex/0.5.0/katex.min.css"><script async="async" type="text/javascript" src="//cdn.jsdelivr.net/katex/0.5.0/katex.min.js"></script><script async="async" type="text/javascript" src="//cdn.jsdelivr.net/katex/0.5.0/contrib/auto-render.min.js"></script><script>var doRenderMath = 'katex';</script><script defer="defer" src="/js/carbon.js"></script><script>var trackID, domainID;
trackID = 'UA-110511310-4'; 
domainID = 'https://byshen.github.io'; 
(function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments);
        },
        i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.defer = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', trackID, domainID);
ga('send', 'pageview');</script><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div id="container"><div id="banner"><h1 id="site-title"><a href="/">西窗月</a></h1><p id="site-subtitle"></p></div><div id="content"><div class="meta"><h2 class="article-title"><a href="/2018/08/10/paper-pres-note">note on &quot;PRES&quot; paper</a></h2><div class="article-date"><a href="javascript:void(0);" class="extra-switch">2018-08-10</a></div></div><div class="extra"><span class="Tags">Tags: <a href="/tags/paper/">paper</a>, <a href="/tags/bug/">bug</a>, <a href="/tags/reproduce/">reproduce</a>, <a href="/tags/sosp09/">sosp09</a>.</span></div><div class="extra"><span class="Categories">Categories: None.</span></div><div class="article-content"><div class="gallery"></div><ul>
<li><p>What problem does the paper address?</p>
<ul>
<li>reproduce concurrency bug in production on multi-processsors (multicore), with <code>low</code> overhead in a few <code>coordinated</code> attempts.</li>
</ul>
</li>
<li><p>How is it different from previous work, if any?</p>
<ol>
<li>Traditional : deterministic replay - the non-determinism (1) input, eg. keyboard (2) system calls, eg. <code>gettime()</code> can be recorded for <code>re-execution</code>. (3) Timing variation from hardware, can be overcomed by logic time, eg. number of instructions executed. But (3) causes problems in multicore.</li>
</ol>
</li>
</ul>
<blockquote>
<p>The most problematic source of non-determinism comes from timing variations caused by hardware, such as cache state, memory refresh-scrubbing, and timing variations on buses and devices.</p>
</blockquote>
<ul>
<li><ol start="2">
<li>Timing variations exert an important influence on how threads concurrently interleaves each other, besides thread scheduling. When threads are on multicore, they interact with each other with sync or shared memory. This is different from uni-core.</li>
<li>This can be solved by record all inter-thread interactions. (1) hardware assist to reduce overhead, but these hw do not exist. (2) software approach. 10x - 100x production run overhead. Something like I can save you but you have to stay in hospoital all your life.<br><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fu5cpxdv4kj30dm07amxw.jpg" alt="This picture is really helpful for people to understand!"><br><em>Fig 2.very clear object, really helpful for people to understand difference</em></li>
</ol>
</li>
<li><p>What is the approach used to solve the problem?<br><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fu5d2s7a0pj317m0brgoo.jpg" alt=""><br><em>Fig 3. PRES approach overview</em></p>
<ul>
<li>Not reproduce bug in one replay, which cause high overhead in production.</li>
<li>Just reproduce bug, not execution paths - how to make sure the bug is caused by the same execution path.</li>
<li>Sketches, are just record pointers, different sketch mechanism are just adding different event pointers.</li>
<li>It is confusing how a production run failure is reproduced the <strong>same</strong>. How to make sure they crush for the very same reason. Also for incorrect result, how to make sure it is recorded in the production run, since it’s just sketches not all info?</li>
</ul>
</li>
<li><p>How does the paper support or otherwise justify its arguments and conclusions?</p>
<ul>
<li>11 opensource applications, 3 categories, but only 13 bugs? Are these bugs representitive? See the characteristic study.</li>
<li>very thorough experiment</li>
</ul>
</li>
<li><p>What do you like / dislike this paper?</p>
<ul>
<li>likes: writing very clear, problem important, solution interesting</li>
<li>dislike: I still doubt whether it will miss some bugs. The experiment has only 13 bugs. I understand it is hard to collect complicate concurrent bugs and even reproduce them. but …</li>
</ul>
</li>
<li><p>Was the paper, in your judgement, successful in addressing the problem?</p>
<ul>
<li>yes</li>
</ul>
</li>
</ul>
</div><nav class="pagination"><a id="left-navigator" href="/2018/08/11/nachos/">nachos project notes</a><a id="right-navigator" href="/2018/07/28/android-develop/">Android useful links</a></nav></div><nav id="footer"><ul id="footer-links"><li><a href="/about">About</a></li><li><a href="/archives">Archives</a></li><li><a href="/atom.xml">RSS</a></li><li><a href="https://byshen.github.io/wiki/" class="out-site">Wiki</a></li><li><a href="https://github.com/byshen" class="out-site">GitHub</a></li><li><a href="https://github.com/hexojs/hexo" class="out-site">Hexo</a></li></ul></nav></div></body></html>